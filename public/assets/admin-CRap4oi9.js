import{r as s,j as o,R as He,o as ze,p as Ut,u as B,q as $t,k as X,g as Bt,a as Vt,b as O,h as _,B as R,C as J,e as q,c as ne,d as re,I as V,m as Ht}from"./api-Djm3PB4m.js";import{P as zt,a as Kt,U as Gt,S as Xt}from"./page-shell-BZTC642n.js";import{X as Yt}from"./x-CT-hd4PJ.js";import{L as Q}from"./label-DIN_m3m4.js";import{R as Zt}from"./refresh-cw-B4TJ-5nR.js";function W(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function Jt(e,t){const n=s.createContext(t),r=i=>{const{children:l,...c}=i,m=s.useMemo(()=>c,Object.values(c));return o.jsx(n.Provider,{value:m,children:l})};r.displayName=e+"Provider";function a(i){const l=s.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function qt(e,t=[]){let n=[];function r(i,l){const c=s.createContext(l),m=n.length;n=[...n,l];const d=v=>{const{scope:p,children:g,...b}=v,f=p?.[e]?.[m]||c,y=s.useMemo(()=>b,Object.values(b));return o.jsx(f.Provider,{value:y,children:g})};d.displayName=i+"Provider";function h(v,p){const g=p?.[e]?.[m]||c,b=s.useContext(g);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${i}\``)}return[d,h]}const a=()=>{const i=n.map(l=>s.createContext(l));return function(c){const m=c?.[e]||i;return s.useMemo(()=>({[`__scope${e}`]:{...c,[e]:m}}),[c,m])}};return a.scopeName=e,[r,Qt(a,...t)]}function Qt(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=r.reduce((c,{useScope:m,scopeName:d})=>{const v=m(i)[`__scope${d}`];return{...c,...v}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var ee=globalThis?.document?s.useLayoutEffect:()=>{},en=He[" useId ".trim().toString()]||(()=>{}),tn=0;function he(e){const[t,n]=s.useState(en());return ee(()=>{n(r=>r??String(tn++))},[e]),e||(t?`radix-${t}`:"")}var nn=He[" useInsertionEffect ".trim().toString()]||ee;function rn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,l]=an({defaultProp:t,onChange:n}),c=e!==void 0,m=c?e:a;{const h=s.useRef(e!==void 0);s.useEffect(()=>{const v=h.current;v!==c&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=c},[c,r])}const d=s.useCallback(h=>{if(c){const v=on(h)?h(e):h;v!==e&&l.current?.(v)}else i(h)},[c,e,i,l]);return[m,d]}function an({defaultProp:e,onChange:t}){const[n,r]=s.useState(e),a=s.useRef(n),i=s.useRef(t);return nn(()=>{i.current=t},[t]),s.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function on(e){return typeof e=="function"}function sn(e){const t=cn(e),n=s.forwardRef((r,a)=>{const{children:i,...l}=r,c=s.Children.toArray(i),m=c.find(un);if(m){const d=m.props.children,h=c.map(v=>v===m?s.Children.count(d)>1?s.Children.only(null):s.isValidElement(d)?d.props.children:null:v);return o.jsx(t,{...l,ref:a,children:s.isValidElement(d)?s.cloneElement(d,void 0,h):null})}return o.jsx(t,{...l,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function cn(e){const t=s.forwardRef((n,r)=>{const{children:a,...i}=n;if(s.isValidElement(a)){const l=fn(a),c=dn(i,a.props);return a.type!==s.Fragment&&(c.ref=r?ze(r,l):l),s.cloneElement(a,c)}return s.Children.count(a)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ln=Symbol("radix.slottable");function un(e){return s.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ln}function dn(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...c)=>{const m=i(...c);return a(...c),m}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function fn(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],M=mn.reduce((e,t)=>{const n=sn(`Primitive.${t}`),r=s.forwardRef((a,i)=>{const{asChild:l,...c}=a,m=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(m,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function vn(e,t){e&&Ut.flushSync(()=>e.dispatchEvent(t))}function te(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...n)=>t.current?.(...n),[])}function hn(e,t=globalThis?.document){const n=te(e);s.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var pn="DismissableLayer",Se="dismissableLayer.update",gn="dismissableLayer.pointerDownOutside",yn="dismissableLayer.focusOutside",Te,Ke=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ge=s.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...m}=e,d=s.useContext(Ke),[h,v]=s.useState(null),p=h?.ownerDocument??globalThis?.document,[,g]=s.useState({}),b=B(t,E=>v(E)),f=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=f.indexOf(y),C=h?f.indexOf(h):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=C>=x,j=bn(E=>{const A=E.target,k=[...d.branches].some(L=>L.contains(A));!S||k||(a?.(E),l?.(E),E.defaultPrevented||c?.())},p),P=Cn(E=>{const A=E.target;[...d.branches].some(L=>L.contains(A))||(i?.(E),l?.(E),E.defaultPrevented||c?.())},p);return hn(E=>{C===d.layers.size-1&&(r?.(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},p),s.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Te=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Ae(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Te)}},[h,p,n,d]),s.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Ae())},[h,d]),s.useEffect(()=>{const E=()=>g({});return document.addEventListener(Se,E),()=>document.removeEventListener(Se,E)},[]),o.jsx(M.div,{...m,ref:b,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:W(e.onFocusCapture,P.onFocusCapture),onBlurCapture:W(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:W(e.onPointerDownCapture,j.onPointerDownCapture)})});Ge.displayName=pn;var xn="DismissableLayerBranch",En=s.forwardRef((e,t)=>{const n=s.useContext(Ke),r=s.useRef(null),a=B(t,r);return s.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(M.div,{...e,ref:a})});En.displayName=xn;function bn(e,t=globalThis?.document){const n=te(e),r=s.useRef(!1),a=s.useRef(()=>{});return s.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let m=function(){Xe(gn,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=m,t.addEventListener("click",a.current,{once:!0})):m()}else t.removeEventListener("click",a.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Cn(e,t=globalThis?.document){const n=te(e),r=s.useRef(!1);return s.useEffect(()=>{const a=i=>{i.target&&!r.current&&Xe(yn,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ae(){const e=new CustomEvent(Se);document.dispatchEvent(e)}function Xe(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?vn(a,i):a.dispatchEvent(i)}var pe="focusScope.autoFocusOnMount",ge="focusScope.autoFocusOnUnmount",ke={bubbles:!1,cancelable:!0},Sn="FocusScope",Ye=s.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[c,m]=s.useState(null),d=te(a),h=te(i),v=s.useRef(null),p=B(t,f=>m(f)),g=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(r){let f=function(w){if(g.paused||!c)return;const S=w.target;c.contains(S)?v.current=S:F(v.current,{select:!0})},y=function(w){if(g.paused||!c)return;const S=w.relatedTarget;S!==null&&(c.contains(S)||F(v.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&F(c)};document.addEventListener("focusin",f),document.addEventListener("focusout",y);const C=new MutationObserver(x);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",y),C.disconnect()}}},[r,c,g.paused]),s.useEffect(()=>{if(c){Me.add(g);const f=document.activeElement;if(!c.contains(f)){const x=new CustomEvent(pe,ke);c.addEventListener(pe,d),c.dispatchEvent(x),x.defaultPrevented||(Nn(On(Ze(c)),{select:!0}),document.activeElement===f&&F(c))}return()=>{c.removeEventListener(pe,d),setTimeout(()=>{const x=new CustomEvent(ge,ke);c.addEventListener(ge,h),c.dispatchEvent(x),x.defaultPrevented||F(f??document.body,{select:!0}),c.removeEventListener(ge,h),Me.remove(g)},0)}}},[c,d,h,g]);const b=s.useCallback(f=>{if(!n&&!r||g.paused)return;const y=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,x=document.activeElement;if(y&&x){const C=f.currentTarget,[w,S]=wn(C);w&&S?!f.shiftKey&&x===S?(f.preventDefault(),n&&F(w,{select:!0})):f.shiftKey&&x===w&&(f.preventDefault(),n&&F(S,{select:!0})):x===C&&f.preventDefault()}},[n,r,g.paused]);return o.jsx(M.div,{tabIndex:-1,...l,ref:p,onKeyDown:b})});Ye.displayName=Sn;function Nn(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(F(r,{select:t}),document.activeElement!==n)return}function wn(e){const t=Ze(e),n=Ie(t,e),r=Ie(t.reverse(),e);return[n,r]}function Ze(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ie(e,t){for(const n of e)if(!jn(n,{upTo:t}))return n}function jn(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pn(e){return e instanceof HTMLInputElement&&"select"in e}function F(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Pn(e)&&t&&e.select()}}var Me=Rn();function Rn(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Le(e,t),e.unshift(t)},remove(t){e=Le(e,t),e[0]?.resume()}}}function Le(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function On(e){return e.filter(t=>t.tagName!=="A")}var _n="Portal",Je=s.forwardRef((e,t)=>{const{container:n,...r}=e,[a,i]=s.useState(!1);ee(()=>i(!0),[]);const l=n||a&&globalThis?.document?.body;return l?$t.createPortal(o.jsx(M.div,{...r,ref:t}),l):null});Je.displayName=_n;function Dn(e,t){return s.useReducer((n,r)=>t[n][r]??n,e)}var fe=e=>{const{present:t,children:n}=e,r=Tn(t),a=typeof n=="function"?n({present:r.isPresent}):s.Children.only(n),i=B(r.ref,An(a));return typeof n=="function"||r.isPresent?s.cloneElement(a,{ref:i}):null};fe.displayName="Presence";function Tn(e){const[t,n]=s.useState(),r=s.useRef(null),a=s.useRef(e),i=s.useRef("none"),l=e?"mounted":"unmounted",[c,m]=Dn(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const d=ae(r.current);i.current=c==="mounted"?d:"none"},[c]),ee(()=>{const d=r.current,h=a.current;if(h!==e){const p=i.current,g=ae(d);e?m("MOUNT"):g==="none"||d?.display==="none"?m("UNMOUNT"):m(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,m]),ee(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,v=g=>{const f=ae(r.current).includes(CSS.escape(g.animationName));if(g.target===t&&f&&(m("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=g=>{g.target===t&&(i.current=ae(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:s.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function ae(e){return e?.animationName||"none"}function An(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ye=0;function kn(){s.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Fe()),document.body.insertAdjacentElement("beforeend",e[1]??Fe()),ye++,()=>{ye===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ye--}},[])}function Fe(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var T=function(){return T=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},T.apply(this,arguments)};function qe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function In(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var le="right-scroll-bar-position",ue="width-before-scroll-bar",Mn="with-scroll-bars-hidden",Ln="--removed-body-scroll-bar-size";function xe(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Fn(e,t){var n=s.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var Wn=typeof window<"u"?s.useLayoutEffect:s.useEffect,We=new WeakMap;function Un(e,t){var n=Fn(null,function(r){return e.forEach(function(a){return xe(a,r)})});return Wn(function(){var r=We.get(n);if(r){var a=new Set(r),i=new Set(e),l=n.current;a.forEach(function(c){i.has(c)||xe(c,null)}),i.forEach(function(c){a.has(c)||xe(c,l)})}We.set(n,e)},[e]),n}function $n(e){return e}function Bn(e,t){t===void 0&&(t=$n);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var m=function(){var h=l;l=[],h.forEach(i)},d=function(){return Promise.resolve().then(m)};d(),n={push:function(h){l.push(h),d()},filter:function(h){return l=l.filter(h),n}}}};return a}function Vn(e){e===void 0&&(e={});var t=Bn(null);return t.options=T({async:!0,ssr:!1},e),t}var Qe=function(e){var t=e.sideCar,n=qe(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return s.createElement(r,T({},n))};Qe.isSideCarExport=!0;function Hn(e,t){return e.useMedium(t),Qe}var et=Vn(),Ee=function(){},me=s.forwardRef(function(e,t){var n=s.useRef(null),r=s.useState({onScrollCapture:Ee,onWheelCapture:Ee,onTouchMoveCapture:Ee}),a=r[0],i=r[1],l=e.forwardProps,c=e.children,m=e.className,d=e.removeScrollBar,h=e.enabled,v=e.shards,p=e.sideCar,g=e.noRelative,b=e.noIsolation,f=e.inert,y=e.allowPinchZoom,x=e.as,C=x===void 0?"div":x,w=e.gapMode,S=qe(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,P=Un([n,t]),E=T(T({},S),a);return s.createElement(s.Fragment,null,h&&s.createElement(j,{sideCar:et,removeScrollBar:d,shards:v,noRelative:g,noIsolation:b,inert:f,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),l?s.cloneElement(s.Children.only(c),T(T({},E),{ref:P})):s.createElement(C,T({},E,{className:m,ref:P}),c))});me.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};me.classNames={fullWidth:ue,zeroRight:le};var zn=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Kn(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zn();return t&&e.setAttribute("nonce",t),e}function Gn(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Xn(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Yn=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Kn())&&(Gn(t,n),Xn(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zn=function(){var e=Yn();return function(t,n){s.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},tt=function(){var e=Zn(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Jn={left:0,top:0,right:0,gap:0},be=function(e){return parseInt(e||"",10)||0},qn=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[be(n),be(r),be(a)]},Qn=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Jn;var t=qn(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},er=tt(),G="data-scroll-locked",tr=function(e,t,n,r){var a=e.left,i=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Mn,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(G,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(le,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ue,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(le," .").concat(le,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ue," .").concat(ue,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(G,`] {
    `).concat(Ln,": ").concat(c,`px;
  }
`)},Ue=function(){var e=parseInt(document.body.getAttribute(G)||"0",10);return isFinite(e)?e:0},nr=function(){s.useEffect(function(){return document.body.setAttribute(G,(Ue()+1).toString()),function(){var e=Ue()-1;e<=0?document.body.removeAttribute(G):document.body.setAttribute(G,e.toString())}},[])},rr=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;nr();var i=s.useMemo(function(){return Qn(a)},[a]);return s.createElement(er,{styles:tr(i,!t,a,n?"":"!important")})},Ne=!1;if(typeof window<"u")try{var oe=Object.defineProperty({},"passive",{get:function(){return Ne=!0,!0}});window.addEventListener("test",oe,oe),window.removeEventListener("test",oe,oe)}catch{Ne=!1}var H=Ne?{passive:!1}:!1,ar=function(e){return e.tagName==="TEXTAREA"},nt=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ar(e)&&n[t]==="visible")},or=function(e){return nt(e,"overflowY")},sr=function(e){return nt(e,"overflowX")},$e=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=rt(e,r);if(a){var i=at(e,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ir=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},cr=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},rt=function(e,t){return e==="v"?or(t):sr(t)},at=function(e,t){return e==="v"?ir(t):cr(t)},lr=function(e,t){return e==="h"&&t==="rtl"?-1:1},ur=function(e,t,n,r,a){var i=lr(e,window.getComputedStyle(t).direction),l=i*r,c=n.target,m=t.contains(c),d=!1,h=l>0,v=0,p=0;do{if(!c)break;var g=at(e,c),b=g[0],f=g[1],y=g[2],x=f-y-i*b;(b||x)&&rt(e,c)&&(v+=x,p+=b);var C=c.parentNode;c=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!m&&c!==document.body||m&&(t.contains(c)||t===c));return(h&&Math.abs(v)<1||!h&&Math.abs(p)<1)&&(d=!0),d},se=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Be=function(e){return[e.deltaX,e.deltaY]},Ve=function(e){return e&&"current"in e?e.current:e},dr=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fr=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mr=0,z=[];function vr(e){var t=s.useRef([]),n=s.useRef([0,0]),r=s.useRef(),a=s.useState(mr++)[0],i=s.useState(tt)[0],l=s.useRef(e);s.useEffect(function(){l.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var f=In([e.lockRef.current],(e.shards||[]).map(Ve),!0).filter(Boolean);return f.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),f.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=s.useCallback(function(f,y){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!l.current.allowPinchZoom;var x=se(f),C=n.current,w="deltaX"in f?f.deltaX:C[0]-x[0],S="deltaY"in f?f.deltaY:C[1]-x[1],j,P=f.target,E=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in f&&E==="h"&&P.type==="range")return!1;var A=window.getSelection(),k=A&&A.anchorNode,L=k?k===P||k.contains(P):!1;if(L)return!1;var U=$e(E,P);if(!U)return!0;if(U?j=E:(j=E==="v"?"h":"v",U=$e(E,P)),!U)return!1;if(!r.current&&"changedTouches"in f&&(w||S)&&(r.current=j),!j)return!0;var Y=r.current||j;return ur(Y,y,f,Y==="h"?w:S)},[]),m=s.useCallback(function(f){var y=f;if(!(!z.length||z[z.length-1]!==i)){var x="deltaY"in y?Be(y):se(y),C=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&dr(j.delta,x)})[0];if(C&&C.should){y.cancelable&&y.preventDefault();return}if(!C){var w=(l.current.shards||[]).map(Ve).filter(Boolean).filter(function(j){return j.contains(y.target)}),S=w.length>0?c(y,w[0]):!l.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),d=s.useCallback(function(f,y,x,C){var w={name:f,delta:y,target:x,should:C,shadowParent:hr(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),h=s.useCallback(function(f){n.current=se(f),r.current=void 0},[]),v=s.useCallback(function(f){d(f.type,Be(f),f.target,c(f,e.lockRef.current))},[]),p=s.useCallback(function(f){d(f.type,se(f),f.target,c(f,e.lockRef.current))},[]);s.useEffect(function(){return z.push(i),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:p}),document.addEventListener("wheel",m,H),document.addEventListener("touchmove",m,H),document.addEventListener("touchstart",h,H),function(){z=z.filter(function(f){return f!==i}),document.removeEventListener("wheel",m,H),document.removeEventListener("touchmove",m,H),document.removeEventListener("touchstart",h,H)}},[]);var g=e.removeScrollBar,b=e.inert;return s.createElement(s.Fragment,null,b?s.createElement(i,{styles:fr(a)}):null,g?s.createElement(rr,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function hr(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pr=Hn(et,vr);var ot=s.forwardRef(function(e,t){return s.createElement(me,T({},e,{ref:t,sideCar:pr}))});ot.classNames=me.classNames;var gr=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},K=new WeakMap,ie=new WeakMap,ce={},Ce=0,st=function(e){return e&&(e.host||st(e.parentNode))},yr=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=st(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xr=function(e,t,n,r){var a=yr(t,Array.isArray(e)?e:[e]);ce[n]||(ce[n]=new WeakMap);var i=ce[n],l=[],c=new Set,m=new Set(a),d=function(v){!v||c.has(v)||(c.add(v),d(v.parentNode))};a.forEach(d);var h=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(p){if(c.has(p))h(p);else try{var g=p.getAttribute(r),b=g!==null&&g!=="false",f=(K.get(p)||0)+1,y=(i.get(p)||0)+1;K.set(p,f),i.set(p,y),l.push(p),f===1&&b&&ie.set(p,!0),y===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return h(t),c.clear(),Ce++,function(){l.forEach(function(v){var p=K.get(v)-1,g=i.get(v)-1;K.set(v,p),i.set(v,g),p||(ie.has(v)||v.removeAttribute(r),ie.delete(v)),g||v.removeAttribute(n)}),Ce--,Ce||(K=new WeakMap,K=new WeakMap,ie=new WeakMap,ce={})}},Er=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=gr(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),xr(r,a,n,"aria-hidden")):function(){return null}};function br(e){const t=Cr(e),n=s.forwardRef((r,a)=>{const{children:i,...l}=r,c=s.Children.toArray(i),m=c.find(Nr);if(m){const d=m.props.children,h=c.map(v=>v===m?s.Children.count(d)>1?s.Children.only(null):s.isValidElement(d)?d.props.children:null:v);return o.jsx(t,{...l,ref:a,children:s.isValidElement(d)?s.cloneElement(d,void 0,h):null})}return o.jsx(t,{...l,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Cr(e){const t=s.forwardRef((n,r)=>{const{children:a,...i}=n;if(s.isValidElement(a)){const l=jr(a),c=wr(i,a.props);return a.type!==s.Fragment&&(c.ref=r?ze(r,l):l),s.cloneElement(a,c)}return s.Children.count(a)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sr=Symbol("radix.slottable");function Nr(e){return s.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sr}function wr(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...c)=>{const m=i(...c);return a(...c),m}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function jr(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ve="Dialog",[it]=qt(ve),[Pr,D]=it(ve),ct=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=s.useRef(null),m=s.useRef(null),[d,h]=rn({prop:r,defaultProp:a??!1,onChange:i,caller:ve});return o.jsx(Pr,{scope:t,triggerRef:c,contentRef:m,contentId:he(),titleId:he(),descriptionId:he(),open:d,onOpenChange:h,onOpenToggle:s.useCallback(()=>h(v=>!v),[h]),modal:l,children:n})};ct.displayName=ve;var lt="DialogTrigger",Rr=s.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=D(lt,n),i=B(t,a.triggerRef);return o.jsx(M.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Pe(a.open),...r,ref:i,onClick:W(e.onClick,a.onOpenToggle)})});Rr.displayName=lt;var we="DialogPortal",[Or,ut]=it(we,{forceMount:void 0}),dt=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=D(we,t);return o.jsx(Or,{scope:t,forceMount:n,children:s.Children.map(r,l=>o.jsx(fe,{present:n||i.open,children:o.jsx(Je,{asChild:!0,container:a,children:l})}))})};dt.displayName=we;var de="DialogOverlay",ft=s.forwardRef((e,t)=>{const n=ut(de,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=D(de,e.__scopeDialog);return i.modal?o.jsx(fe,{present:r||i.open,children:o.jsx(Dr,{...a,ref:t})}):null});ft.displayName=de;var _r=br("DialogOverlay.RemoveScroll"),Dr=s.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=D(de,n);return o.jsx(ot,{as:_r,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(M.div,{"data-state":Pe(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),$="DialogContent",mt=s.forwardRef((e,t)=>{const n=ut($,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=D($,e.__scopeDialog);return o.jsx(fe,{present:r||i.open,children:i.modal?o.jsx(Tr,{...a,ref:t}):o.jsx(Ar,{...a,ref:t})})});mt.displayName=$;var Tr=s.forwardRef((e,t)=>{const n=D($,e.__scopeDialog),r=s.useRef(null),a=B(t,n.contentRef,r);return s.useEffect(()=>{const i=r.current;if(i)return Er(i)},[]),o.jsx(vt,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:W(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:W(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:W(e.onFocusOutside,i=>i.preventDefault())})}),Ar=s.forwardRef((e,t)=>{const n=D($,e.__scopeDialog),r=s.useRef(!1),a=s.useRef(!1);return o.jsx(vt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;n.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),vt=s.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,c=D($,n),m=s.useRef(null),d=B(t,m);return kn(),o.jsxs(o.Fragment,{children:[o.jsx(Ye,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(Ge,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Pe(c.open),...l,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(kr,{titleId:c.titleId}),o.jsx(Mr,{contentRef:m,descriptionId:c.descriptionId})]})]})}),je="DialogTitle",ht=s.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=D(je,n);return o.jsx(M.h2,{id:a.titleId,...r,ref:t})});ht.displayName=je;var pt="DialogDescription",gt=s.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=D(pt,n);return o.jsx(M.p,{id:a.descriptionId,...r,ref:t})});gt.displayName=pt;var yt="DialogClose",xt=s.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=D(yt,n);return o.jsx(M.button,{type:"button",...r,ref:t,onClick:W(e.onClick,()=>a.onOpenChange(!1))})});xt.displayName=yt;function Pe(e){return e?"open":"closed"}var Et="DialogTitleWarning",[Zr,bt]=Jt(Et,{contentName:$,titleName:je,docsSlug:"dialog"}),kr=({titleId:e})=>{const t=bt(Et),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Ir="DialogDescriptionWarning",Mr=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bt(Ir).contentName}}.`;return s.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Lr=ct,Fr=dt,Ct=ft,St=mt,Nt=ht,wt=gt,Wr=xt;const Ur=Lr,$r=Fr,jt=s.forwardRef(({className:e,...t},n)=>o.jsx(Ct,{ref:n,className:X("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out",e),...t}));jt.displayName=Ct.displayName;const Pt=s.forwardRef(({className:e,children:t,...n},r)=>o.jsxs($r,{children:[o.jsx(jt,{}),o.jsxs(St,{ref:r,className:X("fixed left-1/2 top-1/2 z-50 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-lg border bg-background p-6 shadow-lg",e),...n,children:[t,o.jsxs(Wr,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent",children:[o.jsx(Yt,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"关闭"})]})]})]}));Pt.displayName=St.displayName;const Br=({className:e,...t})=>o.jsx("div",{className:X("flex flex-col space-y-1.5 text-center sm:text-left",e),...t}),Vr=({className:e,...t})=>o.jsx("div",{className:X("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}),Rt=s.forwardRef(({className:e,...t},n)=>o.jsx(Nt,{ref:n,className:X("text-lg font-semibold leading-none tracking-tight",e),...t}));Rt.displayName=Nt.displayName;const Ot=s.forwardRef(({className:e,...t},n)=>o.jsx(wt,{ref:n,className:X("text-sm text-muted-foreground",e),...t}));Ot.displayName=wt.displayName;function Hr(){const e=Bt(),t=s.useMemo(()=>Vt(),[e]),n=t?.role==="admin",[r,a]=s.useState(""),[i,l]=s.useState(!1),[c,m]=s.useState(null),[d,h]=s.useState([]),[v,p]=s.useState([]),[g,b]=s.useState({turnstile_enabled:!1,notify_on_user_delete:!1,notify_on_username_change:!1,notify_on_avatar_change:!1,notify_on_manual_verify:!1}),[f,y]=s.useState(""),[x,C]=s.useState(null),[w,S]=s.useState(""),[j,P]=s.useState(!1),[E,A]=s.useState(null),[k,L]=s.useState(""),[U,Y]=s.useState(""),[Re,Oe]=s.useState(""),[_e,De]=s.useState("");s.useEffect(()=>{e||(window.location.href="/login")},[e]),s.useEffect(()=>{e&&!n&&a("无权限访问管理后台")},[e,n]);const I=s.useCallback(async()=>{if(n){l(!0),a("");try{const[u,N,Wt,Z]=await Promise.all([O("/admin/stats",{headers:_("GET")}),O("/admin/users",{headers:_("GET")}),O("/categories"),O("/admin/settings",{headers:_("GET")})]);m(u),h(N),p(Wt),b({turnstile_enabled:!!Z.turnstile_enabled,notify_on_user_delete:!!Z.notify_on_user_delete,notify_on_username_change:!!Z.notify_on_username_change,notify_on_avatar_change:!!Z.notify_on_avatar_change,notify_on_manual_verify:!!Z.notify_on_manual_verify})}catch(u){a(String(u?.message||u))}finally{l(!1)}}},[n]);s.useEffect(()=>{I()},[I]);async function _t(){if(n){l(!0),a("");try{await O("/admin/settings",{method:"POST",headers:_("POST"),body:JSON.stringify(g)}),alert("设置已保存")}catch(u){a(String(u?.message||u))}finally{l(!1)}}}async function Dt(){if(n&&f){l(!0),a("");try{await O("/admin/categories",{method:"POST",headers:_("POST"),body:JSON.stringify({name:f})}),y(""),await I()}catch(u){a(String(u?.message||u))}finally{l(!1)}}}async function Tt(u){if(n&&w){l(!0),a("");try{await O(`/admin/categories/${u}`,{method:"PUT",headers:_("PUT"),body:JSON.stringify({name:w})}),C(null),S(""),await I()}catch(N){a(String(N?.message||N))}finally{l(!1)}}}async function At(u){if(confirm("确定删除此分类？")){l(!0),a("");try{await O(`/admin/categories/${u}`,{method:"DELETE",headers:_("DELETE")}),await I()}catch(N){a(String(N?.message||N))}finally{l(!1)}}}function kt(u){A(u.id),L(u.email||""),Y(u.username||""),Oe(u.avatar_url||""),De(""),P(!0)}async function It(){if(E){l(!0),a("");try{await O(`/admin/users/${E}/update`,{method:"POST",headers:_("POST"),body:JSON.stringify({email:k||void 0,username:U||void 0,avatar_url:Re,password:_e||void 0})}),P(!1),await I()}catch(u){a(String(u?.message||u))}finally{l(!1)}}}async function Mt(u){if(confirm("确定删除此用户？")){l(!0),a("");try{await O(`/admin/users/${u}`,{method:"DELETE",headers:_("DELETE")}),await I()}catch(N){a(String(N?.message||N))}finally{l(!1)}}}async function Lt(u){if(confirm("确认手动验证此用户？")){l(!0),a("");try{await O(`/admin/users/${u}/verify`,{method:"POST",headers:_("POST"),body:JSON.stringify({})}),await I()}catch(N){a(String(N?.message||N))}finally{l(!1)}}}async function Ft(u){if(confirm("重新发送验证邮件？")){l(!0),a("");try{await O(`/admin/users/${u}/resend`,{method:"POST",headers:_("POST"),body:JSON.stringify({})}),alert("已发送")}catch(N){a(String(N?.message||N))}finally{l(!1)}}}return o.jsx(zt,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"管理后台"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"站点设置、分类与用户管理"})]}),o.jsxs(R,{variant:"outline",onClick:I,disabled:i,children:[o.jsx(Zt,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"刷新"})]})]}),t?.role!=="admin"?o.jsx(J,{children:o.jsx(q,{className:"py-6 text-sm text-muted-foreground",children:"无权限访问"})}):o.jsxs(o.Fragment,{children:[r?o.jsx("div",{className:"rounded-md border border-destructive/50 bg-destructive/5 p-3 text-sm text-destructive",children:r}):null,o.jsxs(J,{children:[o.jsx(ne,{children:o.jsx(re,{children:"统计"})}),o.jsxs(q,{className:"grid gap-4 sm:grid-cols-3",children:[o.jsxs("div",{className:"rounded-md border p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"用户"}),o.jsx("div",{className:"text-2xl font-semibold",children:c?.users??"-"})]}),o.jsxs("div",{className:"rounded-md border p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"帖子"}),o.jsx("div",{className:"text-2xl font-semibold",children:c?.posts??"-"})]}),o.jsxs("div",{className:"rounded-md border p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"评论"}),o.jsx("div",{className:"text-2xl font-semibold",children:c?.comments??"-"})]})]})]}),o.jsxs(J,{children:[o.jsx(ne,{children:o.jsx(re,{children:"站点设置"})}),o.jsxs(q,{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:g.turnstile_enabled,onChange:u=>b(N=>({...N,turnstile_enabled:u.target.checked}))}),"启用 Cloudflare Turnstile"]}),o.jsx(Kt,{}),o.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:g.notify_on_user_delete,onChange:u=>b(N=>({...N,notify_on_user_delete:u.target.checked}))}),"删除账号时通知用户"]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:g.notify_on_username_change,onChange:u=>b(N=>({...N,notify_on_username_change:u.target.checked}))}),"修改用户名时通知用户"]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:g.notify_on_avatar_change,onChange:u=>b(N=>({...N,notify_on_avatar_change:u.target.checked}))}),"修改头像时通知用户"]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:g.notify_on_manual_verify,onChange:u=>b(N=>({...N,notify_on_manual_verify:u.target.checked}))}),"手动验证通过时通知用户"]})]}),o.jsx(R,{onClick:_t,disabled:i,children:i?"保存中...":"保存设置"})]})]}),o.jsxs(J,{children:[o.jsx(ne,{children:o.jsx(re,{children:"分类管理"})}),o.jsxs(q,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"cat-name",children:"分类名称"}),o.jsx(V,{id:"cat-name",value:f,onChange:u=>y(u.target.value)})]}),o.jsx(R,{onClick:Dt,disabled:i,children:"添加"})]}),o.jsxs("div",{className:"space-y-2",children:[v.map(u=>o.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3 text-sm",children:[x===u.id?o.jsx(V,{value:w,onChange:N=>S(N.target.value),className:"h-9 max-w-xs"}):o.jsx("span",{children:u.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[x===u.id?o.jsxs(o.Fragment,{children:[o.jsx(R,{variant:"outline",size:"sm",disabled:i,onClick:()=>Tt(u.id),children:"保存"}),o.jsx(R,{variant:"outline",size:"sm",disabled:i,onClick:()=>{C(null),S("")},children:"取消"})]}):o.jsx(R,{variant:"outline",size:"sm",onClick:()=>{C(u.id),S(u.name)},children:"编辑"}),o.jsx(R,{variant:"destructive",size:"sm",onClick:()=>At(u.id),children:"删除"})]})]},u.id)),v.length===0?o.jsx("div",{className:"text-sm text-muted-foreground",children:"暂无分类"}):null]})]})]}),o.jsxs(J,{children:[o.jsx(ne,{children:o.jsx(re,{children:"用户管理"})}),o.jsx(q,{className:"space-y-3",children:o.jsx("div",{className:"overflow-x-auto rounded-md border",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-left",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2",children:"ID"}),o.jsx("th",{className:"px-3 py-2",children:"用户名"}),o.jsx("th",{className:"px-3 py-2",children:"邮箱"}),o.jsx("th",{className:"px-3 py-2",children:"角色"}),o.jsx("th",{className:"px-3 py-2",children:"已验证"}),o.jsx("th",{className:"px-3 py-2",children:"操作"})]})}),o.jsx("tbody",{children:d.map(u=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-3 py-2",children:u.id}),o.jsx("td",{className:"px-3 py-2",children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.avatar_url?o.jsx("img",{src:u.avatar_url,alt:"",className:"h-6 w-6 rounded-full object-cover",loading:"lazy",referrerPolicy:"no-referrer"}):o.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-muted text-[10px] text-muted-foreground",children:o.jsx(Gt,{className:"h-4 w-4"})}),o.jsx("span",{children:u.username}),u.role==="admin"?o.jsxs("span",{className:"inline-flex items-center gap-1 rounded border border-indigo-500/30 bg-indigo-500/10 px-1.5 py-0.5 text-[10px] font-medium text-indigo-700 dark:text-indigo-300",children:[o.jsx(Xt,{className:"h-3 w-3"}),o.jsx("span",{className:"sr-only",children:"管理员"})]}):null]})}),o.jsx("td",{className:"px-3 py-2",children:u.email}),o.jsx("td",{className:"px-3 py-2",children:u.role}),o.jsx("td",{className:"px-3 py-2",children:u.verified?"是":"否"}),o.jsx("td",{className:"px-3 py-2",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(R,{variant:"outline",size:"sm",className:"border-sky-500 text-sky-700 hover:bg-sky-50 hover:text-sky-800 dark:text-sky-400 dark:hover:bg-sky-950/40",onClick:()=>kt(u),children:"编辑"}),u.verified?null:o.jsxs(o.Fragment,{children:[o.jsx(R,{variant:"outline",size:"sm",className:"border-emerald-500 text-emerald-700 hover:bg-emerald-50 hover:text-emerald-800 dark:text-emerald-400 dark:hover:bg-emerald-950/40",onClick:()=>Lt(u.id),children:"验证"}),o.jsx(R,{variant:"outline",size:"sm",className:"border-amber-500 text-amber-800 hover:bg-amber-50 hover:text-amber-900 dark:text-amber-400 dark:hover:bg-amber-950/40",onClick:()=>Ft(u.id),children:"重发"})]}),t?.id!==u.id?o.jsx(R,{variant:"destructive",size:"sm",onClick:()=>Mt(u.id),children:"删除"}):null]})})]},u.id))})]})})})]}),o.jsx(Ur,{open:j,onOpenChange:P,children:o.jsxs(Pt,{children:[o.jsxs(Br,{children:[o.jsx(Rt,{children:"编辑用户"}),o.jsx(Ot,{children:"修改用户名/邮箱/头像/密码"})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Q,{htmlFor:"edit-username",children:"用户名"}),o.jsx(V,{id:"edit-username",value:U,onChange:u=>Y(u.target.value),maxLength:20})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Q,{htmlFor:"edit-email",children:"邮箱"}),o.jsx(V,{id:"edit-email",value:k,onChange:u=>L(u.target.value),type:"email"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Q,{htmlFor:"edit-avatar",children:"头像 URL"}),o.jsx(V,{id:"edit-avatar",value:Re,onChange:u=>Oe(u.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Q,{htmlFor:"edit-password",children:"新密码 (留空不变)"}),o.jsx(V,{id:"edit-password",value:_e,onChange:u=>De(u.target.value)})]})]}),o.jsxs(Vr,{children:[o.jsx(R,{variant:"outline",onClick:()=>P(!1),children:"取消"}),o.jsx(R,{onClick:It,disabled:i,children:i?"保存中...":"保存"})]})]})})]})]})})}Ht("root",o.jsx(Hr,{}));
